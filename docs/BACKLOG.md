# 📋 AIまうちゃん 機能バックログ

**最終更新:** v1.7 (Refactored)

## 🚨 緊急対応 (Hot Fix)
**ボットの生存に関わる最優先タスク**

- [ ] **HOT-01: 常時起動化 (UptimeRobot)** `実装済`
  - Renderの無料サーバーが15分で寝てしまうのを防ぐ。
  - UptimeRobot等で5分おきにアクセスさせる。
- [x] **HOT-02: トリプルハイブリッド (Groq)** `実装済`
  - Geminiのリミット切れ(無反応)を防ぐ。
  - 無料・無制限のGroq (Llama 3) ロジックを組み込み済み。

## 🛡️ セキュリティ & 開発基盤 (Security & DevOps)
**安全かつ効率的に開発するための必須タスク**

- [x] **SEC-01: テスト環境構築** `実装済`
  - ぶっつけ本番をやめる。Dev用ボットとローカル`.env`の切り替え。
- [ ] **SEC-02: API認証 (Secret Key)** `高`
  - 公開APIを他人に勝手に使われないようにヘッダー認証(`MAU_API_SECRET`)を実装。
- [ ] **SEC-03: 管理者IDの秘匿** `高`
  - `ADMIN_USER_ID` を環境変数化する。
- [ ] **SEC-04: API化 (脳みその分離)** `高`
  - 推論ロジックを関数化し、Flaskで `/api/chat` エンドポイントを作成。

## 🚀 実装待ち (Ready to Do)
**機能追加タスク**

- [ ] **FEAT-01: 管理者アナウンス** `中`
  - `!announce` コマンドで、まうちゃんが代理告知ツイートを行う。
- [ ] **FEAT-02: 定期実行タスク** `中`
  - 毎週月曜朝の挨拶、金曜夜のライブ煽りなど。

## 📂 検討中・調査 (Backlog)
**将来的な拡張アイデア**

- [ ] **IDEA-01: Webアプリ化 (UI)** `中`
  - ブラウザからアクセスできるチャット画面(`index.html`)を作成。
- [ ] **IDEA-02: LINE Bot 対応** `中`
  - Discordと同じ頭脳でLINEでも会話。
- [ ] **IDEA-03: X (旧Tw) 情報取得** `低`
  - Google検索API経由で「今週の活動」等を把握させる。
- [ ] **IDEA-04: X (旧Tw) 自動投稿** `低`
  - API有料化の壁が高いため要検討。
- [ ] **IDEA-05: 長期記憶 (Supabase)** `低`
  - ユーザーの好みや過去の会話を永続的に記憶。
- [ ] **IDEA-06: 画像生成** `低`
  - 「自撮り送って」に対応。
- [ ] **IDEA-07: おみくじ・占い** `低`
  - 今日の運勢などを占うランダム機能。

## ✅ 実装済み (Core Features)
**現在稼働中の基盤機能**

- [x] 基本会話機能
- [x] キャラクター人格 (Wiki準拠)
- [x] トリプルハイブリッド (Gemini 2.5 Flash ⇔ Lite ⇔ Groq)
- [x] 制限・エラー対応
- [x] 長文自動分割
- [x] システム通知無視
- [x] バイリンガル対応