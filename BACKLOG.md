# 📋 AIまうちゃん 機能バックログ

**最終更新:** v1.4

## 🚨 緊急対応 (Hot Fix)
**ボットの生存に関わる最優先タスク。**

| 優先度 | 機能名 | 詳細・目的 | ステータス |
| :--- | :--- | :--- | :--- |
| **即時** | **常時起動化 (UptimeRobot)** | **【死活監視】** Renderの無料サーバーが15分で寝てしまうのを防ぐ。<br>・UptimeRobot等で5分おきにアクセスさせる。 | 🚧 未設定 |
| **即時** | **トリプルハイブリッド (Groq)** | **【完全安定】** Geminiのリミット切れ(無反応)を防ぐ。<br>・無料・無制限のGroq (Llama 3) ロジックを組み込む。 | 🚧 未実装 |

---

## 🛡️ セキュリティ & 基盤強化 (Security & Core)
**API公開や運用前に必ずやっておくべき守りのタスク。**

| 優先度 | 機能名 | 詳細・目的 | ステータス |
| :--- | :--- | :--- | :--- |
| **高** | **API認証 (Secret Key)** | **【防衛】** 公開APIを他人に勝手に使われないようにする。<br>・ヘッダー認証(`MAU_API_SECRET`)を実装する。 | ☁️ 未着手 |
| **高** | **管理者IDの秘匿** | **【防衛】** ソースコードに個人IDを書かない。<br>・`ADMIN_USER_ID` を環境変数(`os.getenv`)から読み込むように修正。 | ☁️ 未着手 |
| **高** | **API化 (脳みその分離)** | **【基盤】** 外部アプリから呼べるように構造を変える。<br>・推論ロジックを関数化し、Flaskで `/api/chat` エンドポイントを作成。 | ☁️ 未着手 |

---

## 🚀 実装待ち (Ready to Do)
**機能追加タスク。**

| 優先度 | 機能名 | 詳細・目的 | ステータス |
| :--- | :--- | :--- | :--- |
| **中** | **管理者アナウンス** | **【運営】** `!announce` コマンドで、まうちゃんが代理告知ツイートを行う。<br>・セキュリティ対策(管理者IDチェック)とセットで実装。 | ☁️ 未着手 |
| **中** | **定期実行タスク** | **【運営】** 決まった時間に自動投稿する。<br>・毎週月曜朝の挨拶、金曜夜のライブ煽りなど。 | ☁️ 未着手 |

---

## 📂 検討中・調査 (Backlog)
**将来的な拡張アイデア。**

| カテゴリ | 機能名 | 詳細・課題 | 優先度 |
| :--- | :--- | :--- | :--- |
| **Web** | **Webアプリ化 (UI)** | **【拡散】** ブラウザからアクセスできるチャット画面(`index.html`)を作成。 | 中 |
| **LINE** | **LINE Bot 対応** | **【拡散】** Discordと同じ頭脳でLINEでも会話。 | 中 |
| **X (旧Tw)** | **X 情報取得** | **【知識】** Google検索API経由で「今週の活動」等を把握させる。 | 低 |
| **X (旧Tw)** | **X 自動投稿** | **【広報】** API有料化の壁が高いため要検討。 | 低 |
| **DB** | **長期記憶 (Supabase)** | **【深化】** ユーザーの好みや過去の会話を永続的に記憶。 | 低 |
| **エンタメ** | **画像生成** | **【遊び】** 「自撮り送って」に対応。 | 低 |
| **エンタメ** | **おみくじ・占い** | **【遊び】** 今日の運勢などを占うランダム機能。 | 低 |

---

## ✅ 実装済み (Done)
**現在稼働中の機能。**

- [x] **基本会話機能**
- [x] **キャラクター人格** (Wiki準拠)
- [x] **Dualハイブリッド** (Gemini 2.5 Flash ⇔ Lite)
- [x] **制限・エラー対応**
- [x] **長文自動分割**
- [x] **システム通知無視**
- [x] **バイリンガル対応**
